(this["webpackJsonprate-chart"]=this["webpackJsonprate-chart"]||[]).push([[0],{222:function(e,t,a){e.exports=a(519)},227:function(e,t,a){},229:function(e,t,a){},519:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(62),o=a.n(r),i=(a(227),a(100)),l=a.n(i),s=a(192),u=a(180),m=a(181),d=a(36),b=(a(229),a(101)),E=a.n(b),f=a(522),y=a(523),h=a(182),v=a.n(h),j=a(17),O=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(Object(f.a)(new Date,-90)),i=Object(d.a)(o,2),b=i[0],h=i[1],O=Object(n.useState)(90),p=Object(d.a)(O,2),U=p[0],g=p[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(){var t,n,c,o,i,m,f,h,j,O,p,U,g,k,D;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E.a.get("https://api.exchangeratesapi.io/".concat(Object(y.a)(b,"yyyy-MM-dd"),"?base=USD&symbols=RUB")),E.a.get("https://api.exchangeratesapi.io/".concat(Object(y.a)(b,"yyyy-MM-dd"),"?base=EUR&symbols=RUB"))]);case 2:for(t=e.sent,n=Object(d.a)(t,2),c=n[0],o=n[1],i=[].concat(w(c.data),w(o.data)),m=v.a.groupBy(i,"time"),console.log(m,a),f=0,h=Object.entries(m);f<h.length;f++){j=Object(d.a)(h[f],2),O=j[0],p=j[1],U={time:O},g=Object(u.a)(p);try{for(g.s();!(k=g.n()).done;)D=k.value,"USD"===Object.keys(D)[1]&&(U[Object.keys(D)[1]]=D.USD),"EUR"===Object.keys(D)[1]&&(U[Object.keys(D)[1]]=D.EUR)}catch(l){g.e(l)}finally{g.f()}r([].concat(Object(s.a)(a),[U]))}case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b]);var w=function(e){switch(e.base){case"USD":return{time:Object(y.a)(new Date(e.date),"dd.MM"),USD:e.rates.RUB};case"EUR":return{time:Object(y.a)(new Date(e.date),"dd.MM"),EUR:e.rates.RUB};default:return 0}};return Object(n.useEffect)((function(){var e=U>0&&setInterval((function(){return g(U-1)}),1e3);return h(Object(f.a)(new Date,-U)),function(){return clearInterval(e)}}),[U]),c.a.createElement("div",{className:"chart"},c.a.createElement("div",null,c.a.createElement(j.d,{width:500,height:300,data:a,margin:{top:5,bottom:5,left:-20}},c.a.createElement(j.a,{strokeDasharray:"1 1"}),c.a.createElement(j.f,{dataKey:"time",domain:["auto","auto"]}),c.a.createElement(j.g,null),c.a.createElement(j.e,null),c.a.createElement(j.b,null),c.a.createElement(j.c,{type:"linear",dataKey:"EUR",stroke:"#8884d8",dot:!1,isAnimationActive:!1}),c.a.createElement(j.c,{type:"linear",dataKey:"USD",stroke:"#82ca9d",dot:!1,isAnimationActive:!1})),c.a.createElement("div",{className:"table"},c.a.createElement("div",null,"\u0414\u0430\u0442\u0430"),c.a.createElement("div",null,"USD"),c.a.createElement("div",null,"EUR"),void 0!==a&&a.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("div",null,e.time),c.a.createElement("div",null,e.USD),c.a.createElement("div",null,e.EUR))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[222,1,2]]]);
//# sourceMappingURL=main.7c9a2468.chunk.js.map